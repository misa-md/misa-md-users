(this["webpackJsonpmisa-md-issue-helper"]=this["webpackJsonpmisa-md-issue-helper"]||[]).push([[0],{116:function(e,t,a){e.exports={submitBtn:"IssueForm_submitBtn__2i6iD",radioGroup:"IssueForm_radioGroup__3pcx2",similar:"IssueForm_similar__32aVZ"}},148:function(e,t){},157:function(e,t,a){e.exports={intro:"NewUserIntro_intro__lEX0K"}},178:function(e,t,a){e.exports=a(384)},183:function(e){e.exports=JSON.parse('{"issue.type.new_user":"New User","issue.motivation":"What problem does this feature solve?","issue.new_user.name_or_orcid":"Name of your team, or your personal preferred name or ORCID","issue.new_user.contact_email":"Your contact email","issue.new_user.org":"Your institutions/organizations","issue.new_user.areas_of_interest":"Interest or expertise areas of you or your team","issue.new_user.apply_field":"Which filed(s) will you apply this program to? (e.g. First wall materials simulation)","issue.title":"Title","issue.program":"Program Code","previewModal.title":"Preview Issue"}')},184:function(e){e.exports=JSON.parse('{"issue.type.new_user":"\u65b0\u7528\u6237","issue.motivation":"\u8fd9\u4e2a\u529f\u80fd\u89e3\u51b3\u4e86\u4ec0\u4e48\u95ee\u9898\uff1f","issue.new_user.name_or_orcid":"\u7814\u7a76\u56e2\u961f\u540d\u79f0\uff0c\u6216\u8005\u4e2a\u4eba\u79f0\u547c(\u5982\u59d3\u540d)\u6216\u8005ORCID","issue.new_user.contact_email":"\u8054\u7cfb\u90ae\u7bb1","issue.new_user.org":"\u60a8\u6240\u5728\u673a\u6784\u6216\u7ec4\u7ec7","issue.new_user.areas_of_interest":"\u60a8\u6216\u60a8\u6240\u5728\u56e2\u961f\u7684\u7814\u7a76\u65b9\u5411\u6216\u4e13\u957f","issue.new_user.apply_field":"\u60a8\u5c06\u5728\u4f55\u79cd\u9886\u57df\u4e0b\u5e94\u7528\u8be5\u7a0b\u5e8f? (\u4f8b\u5982:\u805a\u53d8\u7b2c\u4e00\u58c1\u6750\u6599\u6a21\u62df)","issue.extraHelp":"\u6bd4\u5982\uff1a\u9047\u5230\u8fd9\u4e2a bug \u7684\u4e1a\u52a1\u573a\u666f\u3001\u4e0a\u4e0b\u6587\u3002","issue.title":"Issue \u6807\u9898","issue.program":"\u7a0b\u5e8f\u4ee3\u7801","previewModal.title":"Issue \u9884\u89c8"}')},192:function(e,t){},198:function(e,t){},383:function(e,t,a){},384:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(32),s=a(44),l=a(146),i=a(183);window.appLocale.en={messages:Object(s.a)({},i),locale:"en-US",data:l};var o=a(147),u=a(184);window.appLocale.zh={messages:Object(s.a)({},u),locale:"zh-CN",data:o};var c=a(46),m=a(22),p=a(395),d=a(58),f=a(36),g=a(150),_=a(151),h=a(152),w=a(153),E=a(154),b=a(155),y=a(156);var v=Object(y.a)(function(){var e=window.localStorage.getItem("locale");return e||("zh-cn"===window.navigator.language.toLowerCase()?"zh":"en")}());var I=v,O={en:{newUserEmailHelp:b.a,newUserIntro:E.a,newUserApplyFiledHelp:w.a},zh:{newUserEmailHelp:h.a,newUserIntro:_.a,newUserApplyFiledHelp:g.a}},C=function(e){var t=e.id,a=Object(f.a)(e,["id"]),r=n.useContext(I),s=O[r][t];return n.createElement("div",a,n.createElement(s,null))},M=a(157),F=a.n(M),S=function(){var e=n.useRef(null);return n.createElement("div",{className:"".concat(F.a.intro," paragraph"),ref:e},n.createElement(C,{id:"newUserIntro"}))},j=a(64),N=a(391),V=a(389),x=a(387),U=a(388),A=a(393),T=a(396),D=a(394),k=a(392),z=V.a.Item,H=k.a.TextArea,R=function(){return n.createElement("div",null,n.createElement(V.a.Item,{name:"title",label:n.createElement(m.a,{id:"issue.title",defaultMessage:"title"}),rules:[{required:!0}],initialValue:"New User"},n.createElement(k.a,{disabled:!0})),n.createElement(V.a.Item,{name:"new_user_name",label:n.createElement(m.a,{id:"issue.new_user.name_or_orcid",defaultMessage:"Your preferred name or ORCID"}),rules:[{required:!0}]},n.createElement(k.a,null)),n.createElement(V.a.Item,{name:"new_user_email",label:n.createElement(m.a,{id:"issue.new_user.contact_email",defaultMessage:"Your contact email"}),help:n.createElement(C,{id:"newUserEmailHelp"}),rules:[{required:!0,type:"email",message:"The input is not valid E-mail!"}]},n.createElement(k.a,null)),n.createElement(V.a.Item,{name:"new_user_org",label:n.createElement(m.a,{id:"issue.new_user.org",defaultMessage:"Your institutions/organizations"}),rules:[{required:!0}]},n.createElement(k.a,null)),n.createElement(V.a.Item,{name:"new_user_areas_of_interest",label:n.createElement(m.a,{id:"issue.new_user.areas_of_interest",defaultMessage:"Your areas of interest or expertise"}),rules:[{required:!0}]},n.createElement(k.a,null)),n.createElement(z,{name:"new_user_apply_field",rules:[{required:!0}],help:n.createElement(C,{id:"newUserApplyFiledHelp"}),label:n.createElement(m.a,{id:"issue.new_user.apply_field",defaultMessage:"Which filed(s) will you apply this program to ?"})},n.createElement(H,{autoSize:{minRows:2}})))};var q=a(119),B=a(309);function P(e){if(e.status>=200&&e.status<300)return e;throw new Error(e.statusText)}function J(e){return fetch("".concat("https://api.github.com","/repos/").concat(e,"/tags?per_page=100")).then(P).then((function(e){return e.json()})).then((function(e){return e.filter((function(e){return!e.prerelease}))})).then((function(e){return e.map((function(e){return e.tag_name}))})).then((function(e){return function(e){var t=[],a=[];return e.forEach((function(e){e.match(/^\d+\.\d+\.\d+$/)||e.includes("-rc.")?t.push(e):a.push(e)})),[].concat(Object(q.a)(t.sort((function(e,t){return-B(e,t)}))),Object(q.a)(a.sort((function(e,t){return-B(e,t)}))))}(e)})).catch((function(e){return console.warn(e),[]}))}var L=a(116),Y=a.n(L),G=[{name:"misa-md",enabled:!0,label:"misa-md",display:"MISA-MD",users_repo:"misa-md/misa-md"},{name:"misa-md-hip",enabled:!0,label:"misa-md-hip",display:"MISA-MD-hip (MISA-MD for GPU/DCU) (beta)",users_repo:"misa-md/potential-hip"},{name:"misa-md-sunway",enabled:!0,label:"misa-md-sunway",display:"MISA-MD-sunway (MISA-MD for Sunway Taihulight)",users_repo:"misa-md/potential-sunway"}],W=a(390),K=a(164),X=new(a.n(K).a),Z=function(e){var t=e.visible,a=e.content,r=e.onCancel,s=e.onCreate;return n.createElement(W.a,{title:n.createElement(m.a,{id:"previewModal.title",defaultMessage:"Issue Preview"}),cancelText:"",width:"680px",visible:t,onCancel:r,footer:n.createElement(d.a,{onClick:s,type:"primary"},n.createElement(m.a,{id:"issue.create",defaultMessage:"Create"}))},n.createElement("div",{className:"paragraph",dangerouslySetInnerHTML:{__html:X.render(a)}}))},$=N.a.Option,Q=window.location.search.slice(1).split("&").reduce((function(e,t){var a=t.split("="),n=Object(c.a)(a,2),r=n[0],l=n[1];return Object(s.a)(Object(s.a)({},e),{},Object(j.a)({},r,l))}),{});Q.repo||(Q.repo="misa-md");var ee=function(e){var t=V.a.useForm(),a=Object(c.a)(t,1)[0],r=function(e){return t=e,n=a.getFieldsValue(),"new_user"===t?function(e){var t=e.repos,a=e.new_user_org,n=e.new_user_name,r=e.new_user_email,s=e.new_user_areas_of_interest,l=e.new_user_apply_field;return"\n  ### Institutions or organizations: \n  ".concat(a,"\n  ### Team name or personal preferred name:\n  ").concat(n,"\n  ### Interest or expertise areas:\n  ").concat(s,"\n  ### Program(s) used or will be used:\n  ").concat(t,"\n  ### Will apply this/these program to:\n  ").concat(l,"\n\n\n  \x3c!--- email will be hidden: ").concat(r,"--\x3e\n  ")}(n):"";var t,n},l=n.useState(""),i=Object(c.a)(l,2),o=i[0],u=i[1],p=n.useState(!1),f=Object(c.a)(p,2),g=f[0],_=f[1],h=function(e){u(r(a.getFieldValue("type"))),_(e)},w=n.useRef(null),E=function(){var e=Object(n.useState)({}),t=Object(c.a)(e,2),a=t[0],r=t[1];return{repoVersions:a,fetchVersions:function(e){J(e).then((function(t){return r((function(a){return Object(s.a)(Object(s.a)({},a),{},Object(j.a)({},e,t))}))}))}}}(),b=E.repoVersions,y=E.fetchVersions,v=n.useCallback((function(){w.current.addEventListener("click",(function(e){"#repro-modal"===e.target.getAttribute("href")&&e.preventDefault()}))}),[]),I=n.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=localStorage.getItem("form");if(t){var n=JSON.parse(t),r=Object.keys(n);e.forEach((function(e){delete n[e]})),n.type&&a.setFieldsValue({type:n.type}),setTimeout((function(){var e=a.getFieldsValue();r.forEach((function(t){t in e||delete n[t]})),a.setFieldsValue(n)}),100)}}),[]),O=n.useCallback((function(){I(["type"]),e.onIssueTypeChanged(a.getFieldValue("type"))}),[]),C=n.useCallback((function(){var e=a.getFieldValue("type"),t=encodeURIComponent(a.getFieldValue("title")).replace(/%2B/gi,"+"),n=r(e),s="\n- [ ] I have searched the [issues](https://github.com/misa-md/".concat(M,"/issues) of this repository and believe that this is not a duplicate.\n\n").concat(n,"\n"),l="".concat(s,"\n\n\x3c!-- generated by misa-md-issue-helper. DO NOT REMOVE --\x3e"),i=encodeURIComponent(l).replace(/%2B/gi,"+"),o="feature"===e?"&labels=\ud83d\udca1%20Feature%20Request":"";localStorage.clear();window.open("https://github.com/".concat("misa-md/misa-md-users","/issues/new?title=").concat(t,"&body=").concat(i).concat(o))}),[]);n.useEffect((function(){y("misa-md/misa-md"),v(),I(),e.onIssueTypeChanged(a.getFieldValue("type"))}),[]);var M=a.getFieldValue("repo"),F=b[M]||[];return n.createElement("div",{ref:w},n.createElement(V.a,{form:a,layout:"vertical",size:"large",initialValues:{repo:Q.repo,type:"new_user",version:F[0]},onFinish:function(){h(!0)},onValuesChange:function(e,t){var n={};try{n=JSON.parse(localStorage.getItem("form"))||{}}catch(l){}var r=Object(s.a)({},n);Object.keys(t).forEach((function(e){t[e]&&(r[e]=t[e])})),localStorage.setItem("form",JSON.stringify(r,null,2)),"new_user"===a.getFieldValue("type")&&Object.keys(t).forEach((function(e){if("new_user_org"===e){var t=a.getFieldValue("new_user_org");a.setFieldsValue({title:t?"New User from "+t:"New User"})}}))}},n.createElement(Z,{visible:g,content:o,onCancel:function(){h(!1)},onCreate:C}),n.createElement(x.a,null,n.createElement(U.a,{span:11},n.createElement(V.a.Item,{name:"repos",label:n.createElement(m.a,{id:"issue.program",defaultMessage:"I am opening an issue for"}),rules:[{required:!0}],help:n.createElement(m.a,{id:"issue.repoHelp",defaultMessage:"Please make sure to file the issue at appropriate repo."})},n.createElement(N.a,{mode:"multiple"},G.map((function(e){return n.createElement($,{value:e.users_repo},e.display)}))))),n.createElement(U.a,{span:12,offset:1},n.createElement(V.a.Item,{name:"type",label:n.createElement(m.a,{id:"issue.type",defaultMessage:"This is a"})},n.createElement(A.a.Group,{onChange:O,className:Y.a.radioGroup},n.createElement(A.a.Button,{value:"bug",disabled:!0},n.createElement(m.a,{id:"issue.type.bug",defaultMessage:"Bug Report"})),n.createElement(A.a.Button,{value:"feature",disabled:!0},n.createElement(m.a,{id:"issue.type.feature",defaultMessage:"Feature Request"})),n.createElement(A.a.Button,{value:"new_user"},n.createElement(m.a,{id:"issue.type.new_user",defaultMessage:"New User"})))))),n.createElement(V.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.type!==t.type}},(function(){return"feature"===a.getFieldValue("type")||"bug"===a.getFieldValue("type")?n.createElement(T.a,{message:"Under development",type:"warning",showIcon:!0}):n.createElement(R,null)})),n.createElement(V.a.Item,null,n.createElement("div",{className:Y.a.submitBtn},n.createElement(d.a,{type:"primary",size:"large",htmlType:"submit",icon:n.createElement(D.a,null)},n.createElement(m.a,{id:"issue.preview",defaultMessage:"Preview"}))))))},te=a(70),ae=a.n(te),ne=p.a.Header,re=p.a.Content,se=p.a.Footer,le=function(){var e=n.useContext(I),t=n.useState(e),a=Object(c.a)(t,2),r=a[0],s=a[1],l=window.appLocale[r];Object(m.c)(l.data);var i=Object(n.useState)(),o=Object(c.a)(i,2),u=o[0],f=o[1];return n.createElement(I.Provider,null,n.createElement(p.a,{className:"layout"},n.createElement(ne,{className:ae.a.header},n.createElement("div",{className:ae.a.headerContainer},n.createElement("div",{className:ae.a.logo},n.createElement("img",{alt:"logo",src:"https://misa-md.github.io/MDoc/img/logo.svg"}),n.createElement("h1",null,"MISA-MD Issue Helper")),n.createElement("div",{className:ae.a.locale},n.createElement(d.a,{size:"small",onClick:function(){return function(e){var t="en"===v.read()?"zh":"en";e(t),console.log(t),v.write(t),window.localStorage.setItem("locale",t)}(s)}},"en"===r?"\u4e2d\u6587":"English")))),n.createElement(m.b,{locale:r,messages:l.messages},n.createElement(re,{className:ae.a.content},"new_user"===u?n.createElement(S,null):n.createElement(n.Fragment,null," "),n.createElement(ee,{onIssueTypeChanged:function(e){f(e)}}))),n.createElement(se,{style:{textAlign:"center"}},"Inspired by"," ",n.createElement("a",{href:"https://github.com/ant-design/antd-issue-helper",target:"_blank",rel:"noopener noreferrer"},"Ant Design Issue Helper"),"\xb7"," ",n.createElement("a",{href:"https://github.com/misa-md/misa-md-users"},"Source Code of This Page"))))};a(383);r.render(n.createElement(le,null),document.getElementById("root"))},70:function(e,t,a){e.exports={header:"App_header__2L3DO",headerContainer:"App_headerContainer__3EsT6",logo:"App_logo__2qPv-",content:"App_content__1Wt3K"}}},[[178,1,2]]]);
//# sourceMappingURL=main.8855fffb.chunk.js.map